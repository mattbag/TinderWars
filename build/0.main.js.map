{"version":3,"sources":["../../src/pages/ships/ships.module.ts","../../src/pages/ships/ships.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { SwingModule } from 'angular2-swing';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ShipsPage } from './ships';\n\n@NgModule({\n  declarations: [\n    ShipsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ShipsPage),\n    SwingModule\n  ],\n  exports: [\n    ShipsPage\n  ]\n})\nexport class ShipsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ships/ships.module.ts","import { Http } from '@angular/http';\nimport { Component, QueryList, ViewChild, ViewChildren } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { ApisProvider } from \"../../providers/apis/apis\";\nimport {\n  StackConfig,\n  DragEvent,\n  SwingStackComponent,\n  SwingCardComponent\n} from 'angular2-swing';\n/**\n * Generated class for the ShipsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-ships',\n  templateUrl: 'ships.html',\n  providers: [ApisProvider]\n})\nexport class ShipsPage {\n\n  @ViewChild('myswing1') swingStack: SwingStackComponent;\n  @ViewChildren('mycards1') swingCards: QueryList<SwingCardComponent>;\n\n  pageCount: number = 1;\n  swapi_ships: any;\n  cards: Array<any>;\n  stackConfig: StackConfig;\n  showLoader: boolean;\n\n  constructor(public navCtrl: NavController, public http: Http, //public toastCtrl: ToastService,\n    private apis: ApisProvider\n  ) {\n    this.stackConfig = {\n      throwOutConfidence: (offset, element: any) => {\n        // console.log(element);\n        // was element/2\n        return Math.min(Math.abs(offset) / (element / 3), 1);\n      },\n      transform: (element, x, y, r) => {\n        this.onItemMove(element, x, y, r);\n      },\n      throwOutDistance: (d) => {\n        return 800;\n      }\n    };\n  }\n\n  ngAfterViewInit() {\n    // Either subscribe in controller or set in HTML\n    this.swingStack.throwin.subscribe((event: DragEvent) => {\n      // console.log(event);\n\n      // event.target.style.backgroundColor = '#ffffff';\n      // event.target.style.background = '#ffffff';\n      // console.log(event);\n\n    });\n\n    this.cards = [];\n    this.showLoader = true;\n    this.addNewCards(this.pageCount);\n  }\n\n  // Called whenever we drag an element\n  onItemMove(element, x, y, r) {\n    // console.log(element);\n\n    var color = '';\n    var abs = Math.abs(x);\n    let min = Math.trunc(Math.min(16 * 16 - abs, 16 * 16));\n    let hexCode = this.decimalToHex(min, 2);\n\n    if (x > 0) {\n      color = '#' + hexCode + 'FF' + hexCode;\n    } else {\n      color = '#FF' + hexCode + hexCode;\n    }\n\n    // element.style.background = color;\n    element.style.borderColor = color;\n    // this.cardBG = color;\n    element.style['transform'] = `translate3d(0, 0, 0) translate(${x}px, ${y}px) rotate(${r}deg)`;\n  }\n\n  // Connected through HTML\n  voteUp(like: boolean) {\n    this.cards.pop();\n    // this.addNewCards(1);\n    if (this.cards.length < 1) {\n      console.log('going fetching');\n      this.showLoader = true;\n      this.addNewCards(this.pageCount);\n    }\n    // if (like) {\n    //   this.toastCtrl.create('You liked: ' + removedCard.email);\n    // } else {\n    //   this.toastCtrl.create('You disliked: ' + removedCard.email);\n    // }\n  }\n\n  // Add new cards to our array\n  addNewCards(count: number) {\n    // this.http.get('https://randomuser.me/api/?results=' + count)\n    //   .map(data => data.json().results)\n    //   .subscribe(result => {\n    //     for (let val of result) {\n    //       // this.cards.push(val);\n    //       console.log(val);\n\n    //     }\n    //   })\n\n\n\n    this.apis.getShips(this.pageCount).subscribe(\n      data => {\n        this.swapi_ships = data.results;\n        // console.log(data);\n        this.swapi_ships.map(x => {\n          // console.log(x);\n\n          this.apis.searchWiki(x.name).subscribe(\n            data => {\n              // this.wiki_data = data.results; \n              // console.log(data.items[0].id);\n              let _id = data.items[0].id;\n              this.apis.getImages(_id).subscribe(\n                data => {\n                  // this.wiki_data = data.results; \n                  // console.log(data);\n                  x.img = data.items[_id].thumbnail;\n                  // console.log(x);\n                  this.cards.push(x);\n                  // console.log(this.cards);\n\n\n                },\n                err => {\n                  console.log(err);\n                },\n                () => console.log('Image map Complete')\n              );\n            },\n            err => {\n              console.log(err);\n            },\n            () => console.log('Wikia Search Complete')\n          );\n        })\n      },\n      err => {\n        console.log(err);\n      },\n      () => {\n        this.pageCount++ ,\n          // console.log(this.pageCount);\n          // this is meh\n          setTimeout(() => { this.showLoader = false; }, 1000)\n        console.log('Swapi Request Complete')\n      }\n    );\n\n\n  }\n\n  // http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript\n  decimalToHex(d, padding) {\n    var hex = Number(d).toString(16);\n    padding = typeof (padding) === \"undefined\" || padding === null ? padding = 2 : padding;\n\n    while (hex.length < padding) {\n      hex = \"0\" + hex;\n    }\n\n    return hex;\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ships/ships.ts"],"sourceRoot":""}